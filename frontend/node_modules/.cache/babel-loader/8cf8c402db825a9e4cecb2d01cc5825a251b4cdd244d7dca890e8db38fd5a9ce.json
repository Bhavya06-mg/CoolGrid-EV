{"ast":null,"code":"import _objectSpread from\"C:/Users/LENOVO/Downloads/CoolGrid-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// Updated DashboardCustomer.jsx with distance field added to supplier cards\nimport React,{useEffect,useState,useCallback}from\"react\";import axios from\"axios\";import{Container,Row,Col,Card,Button,Alert,Form,Spinner}from\"react-bootstrap\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function DashboardCustomer(){const[suppliers,setSuppliers]=useState([]);const[message,setMessage]=useState(\"\");const[darkMode,setDarkMode]=useState(false);const[searchQuery,setSearchQuery]=useState(\"\");const[customerLocation,setCustomerLocation]=useState(undefined);const[loadingSuppliers,setLoadingSuppliers]=useState(true);const navigate=useNavigate();const haversineKm=useCallback((lat1,lon1,lat2,lon2)=>{lat1=Number(lat1);lon1=Number(lon1);lat2=Number(lat2);lon2=Number(lon2);const toRad=deg=>deg*Math.PI/180;const R=6371;const dLat=toRad(lat2-lat1);const dLon=toRad(lon2-lon1);const a=Math.sin(dLat/2)**2+Math.cos(toRad(lat1))*Math.cos(toRad(lat2))*Math.sin(dLon/2)**2;const c=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return R*c;},[]);useEffect(()=>{let timer=null;if(!(\"geolocation\"in navigator)){setCustomerLocation(null);return;}const success=pos=>{clearTimeout(timer);const lat=pos.coords.latitude;const lng=pos.coords.longitude;setCustomerLocation({lat,lng});};const fail=()=>{clearTimeout(timer);setCustomerLocation(null);};navigator.geolocation.getCurrentPosition(success,fail,{enableHighAccuracy:true,maximumAge:0,timeout:8000});timer=setTimeout(()=>{if(customerLocation===undefined)setCustomerLocation(null);},6000);return()=>clearTimeout(timer);},[]);useEffect(()=>{const dm=localStorage.getItem(\"darkMode\")===\"true\";setDarkMode(dm);document.body.classList.toggle(\"dark-mode\",dm);},[]);useEffect(()=>{if(customerLocation===undefined)return;const fetchSuppliers=async()=>{setLoadingSuppliers(true);try{const token=localStorage.getItem(\"token\");const res=await axios.get(\"http://localhost:5000/api/customer/dashboard\",{headers:{Authorization:\"Bearer \".concat(token)}});let list=(res.data.suppliers||[]).filter(s=>!!s.isOnline);if(customerLocation){list=list.map(s=>{var _ref,_s$coordinates$lat,_s$coordinates,_ref2,_s$coordinates$lng,_s$coordinates2;let slat=(_ref=(_s$coordinates$lat=s===null||s===void 0?void 0:(_s$coordinates=s.coordinates)===null||_s$coordinates===void 0?void 0:_s$coordinates.lat)!==null&&_s$coordinates$lat!==void 0?_s$coordinates$lat:s===null||s===void 0?void 0:s.lat)!==null&&_ref!==void 0?_ref:null;let slng=(_ref2=(_s$coordinates$lng=s===null||s===void 0?void 0:(_s$coordinates2=s.coordinates)===null||_s$coordinates2===void 0?void 0:_s$coordinates2.lng)!==null&&_s$coordinates$lng!==void 0?_s$coordinates$lng:s===null||s===void 0?void 0:s.lng)!==null&&_ref2!==void 0?_ref2:null;let distance=Infinity;if(slat&&slng){distance=haversineKm(customerLocation.lat,customerLocation.lng,slat,slng);}return _objectSpread(_objectSpread({},s),{},{distance});});list.sort((a,b)=>{var _a$distance,_b$distance;return((_a$distance=a.distance)!==null&&_a$distance!==void 0?_a$distance:Infinity)-((_b$distance=b.distance)!==null&&_b$distance!==void 0?_b$distance:Infinity);});}setSuppliers(list);}catch(err){setMessage(\"Failed to load suppliers.\");}finally{setLoadingSuppliers(false);}};fetchSuppliers();},[customerLocation,haversineKm]);const filteredSuppliers=suppliers.filter(s=>(s.name||\"\").toLowerCase().includes(searchQuery.toLowerCase())||(s.location||\"\").toLowerCase().includes(searchQuery.toLowerCase()));const handleBooking=async supplierId=>{const customerId=localStorage.getItem(\"userId\");const token=localStorage.getItem(\"token\");const role=localStorage.getItem(\"role\");if(!token||role!==\"CUSTOMER\")return alert(\"Login first!\");const unitsRequested=prompt(\"Enter units:\");if(!unitsRequested)return;try{if(customerLocation){await axios.post(\"http://localhost:5000/api/request/customer/update-location\",{customerId,lat:customerLocation.lat,lng:customerLocation.lng},{headers:{Authorization:\"Bearer \".concat(token)}});}const res=await axios.post(\"http://localhost:5000/api/request/create\",{customerId,supplierId,unitsRequested},{headers:{Authorization:\"Bearer \".concat(token)}});alert(\"Request sent!\");localStorage.setItem(\"requestId\",res.data.request._id);navigate(\"/customer/booking/\".concat(res.data.request._id));}catch(err){alert(\"Failed.\");}};return/*#__PURE__*/_jsxs(Container,{className:\"mt-5\",children:[/*#__PURE__*/_jsx(\"h2\",{className:darkMode?\"text-light\":\"text-dark\",children:\"Customer Dashboard\"}),/*#__PURE__*/_jsx(Form.Control,{placeholder:\"Search by name or location\",className:\"my-3\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value)}),loadingSuppliers?/*#__PURE__*/_jsx(\"div\",{className:\"text-center my-4\",children:/*#__PURE__*/_jsx(Spinner,{animation:\"border\"})}):/*#__PURE__*/_jsx(Row,{children:filteredSuppliers.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-muted text-center mt-3\",children:\"No suppliers found.\"}):filteredSuppliers.map(s=>/*#__PURE__*/_jsx(Col,{md:4,className:\"mb-4\",children:/*#__PURE__*/_jsx(Card,{className:darkMode?\"bg-dark text-light border-secondary\":\"\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:s.name}),/*#__PURE__*/_jsxs(Card.Text,{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Location:\"}),\" \",s.area,\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Price:\"}),\" \\u20B9\",s.pricePerUnit,\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Units:\"}),\" \",s.availableUnits,\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Distance:\"}),\" \",s.distance.toFixed(2),\" km\"]})]}),/*#__PURE__*/_jsx(Button,{onClick:()=>handleBooking(s._id),children:\"Book\"})]})})},s._id))})]});}","map":{"version":3,"names":["React","useEffect","useState","useCallback","axios","Container","Row","Col","Card","Button","Alert","Form","Spinner","useNavigate","jsx","_jsx","jsxs","_jsxs","DashboardCustomer","suppliers","setSuppliers","message","setMessage","darkMode","setDarkMode","searchQuery","setSearchQuery","customerLocation","setCustomerLocation","undefined","loadingSuppliers","setLoadingSuppliers","navigate","haversineKm","lat1","lon1","lat2","lon2","Number","toRad","deg","Math","PI","R","dLat","dLon","a","sin","cos","c","atan2","sqrt","timer","navigator","success","pos","clearTimeout","lat","coords","latitude","lng","longitude","fail","geolocation","getCurrentPosition","enableHighAccuracy","maximumAge","timeout","setTimeout","dm","localStorage","getItem","document","body","classList","toggle","fetchSuppliers","token","res","get","headers","Authorization","concat","list","data","filter","s","isOnline","map","_ref","_s$coordinates$lat","_s$coordinates","_ref2","_s$coordinates$lng","_s$coordinates2","slat","coordinates","slng","distance","Infinity","_objectSpread","sort","b","_a$distance","_b$distance","err","filteredSuppliers","name","toLowerCase","includes","location","handleBooking","supplierId","customerId","role","alert","unitsRequested","prompt","post","setItem","request","_id","className","children","Control","placeholder","value","onChange","e","target","animation","length","md","Body","Title","Text","area","pricePerUnit","availableUnits","toFixed","onClick"],"sources":["C:/Users/LENOVO/Downloads/CoolGrid-app/frontend/src/pages/DashboardCustomer.jsx"],"sourcesContent":["// Updated DashboardCustomer.jsx with distance field added to supplier cards\r\nimport React, { useEffect, useState, useCallback } from \"react\";\r\nimport axios from \"axios\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  Card,\r\n  Button,\r\n  Alert,\r\n  Form,\r\n  Spinner,\r\n} from \"react-bootstrap\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function DashboardCustomer() {\r\n  const [suppliers, setSuppliers] = useState([]);\r\n  const [message, setMessage] = useState(\"\");\r\n  const [darkMode, setDarkMode] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [customerLocation, setCustomerLocation] = useState(undefined);\r\n  const [loadingSuppliers, setLoadingSuppliers] = useState(true);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const haversineKm = useCallback((lat1, lon1, lat2, lon2) => {\r\n    lat1 = Number(lat1);\r\n    lon1 = Number(lon1);\r\n    lat2 = Number(lat2);\r\n    lon2 = Number(lon2);\r\n\r\n    const toRad = (deg) => (deg * Math.PI) / 180;\r\n    const R = 6371;\r\n    const dLat = toRad(lat2 - lat1);\r\n    const dLon = toRad(lon2 - lon1);\r\n    const a =\r\n      Math.sin(dLat / 2) ** 2 +\r\n      Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) * Math.sin(dLon / 2) ** 2;\r\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n    return R * c;\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let timer = null;\r\n\r\n    if (!(\"geolocation\" in navigator)) {\r\n      setCustomerLocation(null);\r\n      return;\r\n    }\r\n\r\n    const success = (pos) => {\r\n      clearTimeout(timer);\r\n      const lat = pos.coords.latitude;\r\n      const lng = pos.coords.longitude;\r\n      setCustomerLocation({ lat, lng });\r\n    };\r\n\r\n    const fail = () => {\r\n      clearTimeout(timer);\r\n      setCustomerLocation(null);\r\n    };\r\n\r\n    navigator.geolocation.getCurrentPosition(success, fail, {\r\n      enableHighAccuracy: true,\r\n      maximumAge: 0,\r\n      timeout: 8000,\r\n    });\r\n\r\n    timer = setTimeout(() => {\r\n      if (customerLocation === undefined) setCustomerLocation(null);\r\n    }, 6000);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const dm = localStorage.getItem(\"darkMode\") === \"true\";\r\n    setDarkMode(dm);\r\n    document.body.classList.toggle(\"dark-mode\", dm);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (customerLocation === undefined) return;\r\n\r\n    const fetchSuppliers = async () => {\r\n      setLoadingSuppliers(true);\r\n      try {\r\n        const token = localStorage.getItem(\"token\");\r\n        const res = await axios.get(\"http://localhost:5000/api/customer/dashboard\", {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n\r\n        let list = (res.data.suppliers || []).filter((s) => !!s.isOnline);\r\n\r\n        if (customerLocation) {\r\n          list = list.map((s) => {\r\n            let slat = s?.coordinates?.lat ?? s?.lat ?? null;\r\n            let slng = s?.coordinates?.lng ?? s?.lng ?? null;\r\n\r\n            let distance = Infinity;\r\n            if (slat && slng) {\r\n              distance = haversineKm(\r\n                customerLocation.lat,\r\n                customerLocation.lng,\r\n                slat,\r\n                slng\r\n              );\r\n            }\r\n\r\n            return { ...s, distance };\r\n          });\r\n\r\n          list.sort((a, b) => (a.distance ?? Infinity) - (b.distance ?? Infinity));\r\n        }\r\n\r\n        setSuppliers(list);\r\n      } catch (err) {\r\n        setMessage(\"Failed to load suppliers.\");\r\n      } finally {\r\n        setLoadingSuppliers(false);\r\n      }\r\n    };\r\n\r\n    fetchSuppliers();\r\n  }, [customerLocation, haversineKm]);\r\n\r\n  const filteredSuppliers = suppliers.filter(\r\n    (s) =>\r\n      (s.name || \"\").toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n      (s.location || \"\").toLowerCase().includes(searchQuery.toLowerCase())\r\n  );\r\n\r\n  const handleBooking = async (supplierId) => {\r\n    const customerId = localStorage.getItem(\"userId\");\r\n    const token = localStorage.getItem(\"token\");\r\n    const role = localStorage.getItem(\"role\");\r\n\r\n    if (!token || role !== \"CUSTOMER\") return alert(\"Login first!\");\r\n\r\n    const unitsRequested = prompt(\"Enter units:\");\r\n    if (!unitsRequested) return;\r\n\r\n    try {\r\n      if (customerLocation) {\r\n        await axios.post(\r\n          \"http://localhost:5000/api/request/customer/update-location\",\r\n          { customerId, lat: customerLocation.lat, lng: customerLocation.lng },\r\n          { headers: { Authorization: `Bearer ${token}` } }\r\n        );\r\n      }\r\n\r\n      const res = await axios.post(\r\n        \"http://localhost:5000/api/request/create\",\r\n        { customerId, supplierId, unitsRequested },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n\r\n      alert(\"Request sent!\");\r\n      localStorage.setItem(\"requestId\", res.data.request._id);\r\n      navigate(`/customer/booking/${res.data.request._id}`);\r\n    } catch (err) {\r\n      alert(\"Failed.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container className=\"mt-5\">\r\n      <h2 className={darkMode ? \"text-light\" : \"text-dark\"}>Customer Dashboard</h2>\r\n\r\n      <Form.Control\r\n        placeholder=\"Search by name or location\"\r\n        className=\"my-3\"\r\n        value={searchQuery}\r\n        onChange={(e) => setSearchQuery(e.target.value)}\r\n      />\r\n\r\n      {loadingSuppliers ? (\r\n        <div className=\"text-center my-4\">\r\n          <Spinner animation=\"border\" />\r\n        </div>\r\n      ) : (\r\n        <Row>\r\n          {filteredSuppliers.length === 0 ? (\r\n            <p className=\"text-muted text-center mt-3\">No suppliers found.</p>\r\n          ) : (\r\n            filteredSuppliers.map((s) => (\r\n              <Col md={4} className=\"mb-4\" key={s._id}>\r\n                <Card className={darkMode ? \"bg-dark text-light border-secondary\" : \"\"}>\r\n                  <Card.Body>\r\n                    <Card.Title>{s.name}</Card.Title>\r\n                    <Card.Text>\r\n                      <strong>Location:</strong> {s.area} <br />\r\n                      <strong>Price:</strong> â‚¹{s.pricePerUnit} <br />\r\n                      <strong>Units:</strong> {s.availableUnits} <br />\r\n                      <p><b>Distance:</b> {s.distance.toFixed(2)} km</p>\r\n\r\n                      \r\n                    </Card.Text>\r\n\r\n                    <Button onClick={() => handleBooking(s._id)}>Book</Button>\r\n                  </Card.Body>\r\n                </Card>\r\n              </Col>\r\n            ))\r\n          )}\r\n        </Row>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}