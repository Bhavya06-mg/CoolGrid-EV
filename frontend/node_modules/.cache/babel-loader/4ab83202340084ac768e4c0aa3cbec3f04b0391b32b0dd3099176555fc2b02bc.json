{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\Downloads\\\\CoolGrid-app\\\\frontend\\\\src\\\\pages\\\\SupplierRequestDetails.jsx\",\n  _s = $RefreshSig$();\n// src/pages/SupplierRequestDetails.jsx\nimport React, { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Container, Card, Button, Form, Alert, Spinner } from \"react-bootstrap\";\nimport io from \"socket.io-client\";\nimport { motion } from \"framer-motion\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BACKEND = \"http://localhost:5000\";\nconst socket = io(BACKEND, {\n  autoConnect: true\n});\nexport default function SupplierRequestDetails() {\n  _s();\n  var _request$customer2, _request$payment;\n  const {\n    requestId\n  } = useParams();\n  const navigate = useNavigate();\n  const [request, setRequest] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  // OTP\n  const [enteredOtp, setEnteredOtp] = useState(\"\");\n  const [verificationMsg, setVerificationMsg] = useState(\"\");\n\n  // charging states\n  const [chargingStarted, setChargingStarted] = useState(false);\n  const [chargingCompleted, setChargingCompleted] = useState(false);\n\n  // payment states\n  const [paymentMode, setPaymentMode] = useState(null);\n  const [paymentConfirmed, setPaymentConfirmed] = useState(false);\n  const [confirmLoading, setConfirmLoading] = useState(false);\n  const [message, setMessage] = useState(\"\");\n\n  // Fetch request and initialize UI from backend\n  useEffect(() => {\n    let mounted = true;\n    const fetchRequest = async () => {\n      try {\n        var _req$payment;\n        setLoading(true);\n        const res = await axios.get(`${BACKEND}/api/request/status/${requestId}`, {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n          }\n        });\n        if (!mounted) return;\n        const req = res.data.request;\n        setRequest(req);\n        if ((req === null || req === void 0 ? void 0 : req.status) === \"CHARGING\") {\n          setChargingStarted(true);\n        } else if ((req === null || req === void 0 ? void 0 : req.status) === \"COMPLETED\") {\n          setChargingStarted(true);\n          setChargingCompleted(true);\n        }\n        if (req !== null && req !== void 0 && (_req$payment = req.payment) !== null && _req$payment !== void 0 && _req$payment.mode) {\n          setPaymentMode(req.payment.mode);\n        }\n        if ((req === null || req === void 0 ? void 0 : req.status) === \"PAID\") {\n          setPaymentConfirmed(true);\n        }\n      } catch (err) {\n        console.error(\"‚ùå Error fetching request details:\", err);\n      } finally {\n        if (mounted) setLoading(false);\n      }\n    };\n    fetchRequest();\n    socket.emit(\"joinRoom\", {\n      room: requestId\n    });\n    socket.on(\"cashPaymentChosen\", data => {\n      if (data.requestId === requestId) {\n        setPaymentMode(\"CASH\");\n        setMessage(\"Customer selected Cash on Delivery.\");\n      }\n    });\n    socket.on(\"upiPaymentDone\", data => {\n      if (data.requestId === requestId) {\n        setPaymentMode(\"UPI\");\n        setMessage(\"Customer completed UPI payment.\");\n      }\n    });\n    socket.on(\"paymentConfirmedByCustomer\", data => {\n      if (data.requestId === requestId) {\n        setPaymentConfirmed(true);\n      }\n    });\n    socket.on(\"chargingStarted\", data => {\n      if (data.requestId === requestId) {\n        setChargingStarted(true);\n      }\n    });\n    socket.on(\"chargingCompleted\", data => {\n      if (data.requestId === requestId) {\n        setChargingCompleted(true);\n      }\n    });\n    return () => {\n      mounted = false;\n      socket.off();\n    };\n  }, [requestId]);\n\n  // Verify OTP handler\n  const handleVerifyOtp = async () => {\n    try {\n      if (!enteredOtp) return alert(\"Please enter OTP\");\n      const res = await axios.post(`${BACKEND}/api/request/verify-otp/${requestId}`, {\n        enteredOtp\n      }, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      setVerificationMsg(\"OTP Verified Successfully!\");\n      setMessage(\"OTP Verified ‚Äî you can start charging.\");\n      setRequest(prev => ({\n        ...prev,\n        status: \"VERIFIED\"\n      }));\n    } catch (err) {\n      setVerificationMsg(\"Invalid OTP\");\n    }\n  };\n  const handleStartCharging = async () => {\n    try {\n      setChargingStarted(true);\n      await axios.post(`${BACKEND}/api/request/start-charging/${requestId}`, {}, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      setMessage(\"Charging started.\");\n    } catch (err) {\n      setChargingStarted(false);\n    }\n  };\n  const handleCompleteCharging = async () => {\n    try {\n      await axios.post(`${BACKEND}/api/request/complete-charging/${requestId}`, {}, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      setChargingCompleted(true);\n      setMessage(\"Charging completed.\");\n    } catch (err) {\n      alert(\"Failed to complete charging.\");\n    }\n  };\n  const handleSupplierConfirmPayment = async () => {\n    try {\n      var _request$supplier, _request$supplier2, _request$customer;\n      setConfirmLoading(true);\n      const amount = (request.chargedUnits || request.unitsRequested || 0) * (((_request$supplier = request.supplier) === null || _request$supplier === void 0 ? void 0 : _request$supplier.pricePerUnit) || 0);\n      await axios.put(`${BACKEND}/api/request/${requestId}/markPaid`, {\n        mode: \"CASH\",\n        amountPaid: amount || 0,\n        transactionId: \"CASH-\" + Date.now()\n      }, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      socket.emit(\"paymentConfirmedBySupplier\", {\n        requestId,\n        supplierId: (_request$supplier2 = request.supplier) === null || _request$supplier2 === void 0 ? void 0 : _request$supplier2._id,\n        customerId: (_request$customer = request.customer) === null || _request$customer === void 0 ? void 0 : _request$customer._id\n      });\n      setPaymentConfirmed(true);\n      setMessage(\"Payment confirmed ‚Äî redirecting...\");\n      setTimeout(() => navigate(\"/dashboard/supplier\"), 1200);\n    } catch (err) {\n      alert(\"Payment confirmation failed.\");\n    } finally {\n      setConfirmLoading(false);\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"mt-5 text-center\",\n    children: /*#__PURE__*/_jsxDEV(Spinner, {\n      animation: \"border\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 196,\n    columnNumber: 7\n  }, this);\n  if (!request) return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"mt-5 text-center\",\n    children: /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"danger\",\n      children: \"Request not found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 203,\n    columnNumber: 7\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"mt-5\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      className: \"p-4 shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDD0C Request Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Customer:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 12\n        }, this), \" \", (_request$customer2 = request.customer) === null || _request$customer2 === void 0 ? void 0 : _request$customer2.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Units Needed:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 12\n        }, this), \" \", request.unitsRequested]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Status:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 12\n        }, this), \" \", request.status]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"\\uD83D\\uDD10 OTP Verification\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), verificationMsg && /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"info\",\n        children: verificationMsg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 29\n      }, this), request.status !== \"COMPLETED\" && !paymentMode && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Enter OTP sent to customer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            value: enteredOtp,\n            onChange: e => setEnteredOtp(e.target.value),\n            placeholder: \"Enter OTP\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"mt-3\",\n          onClick: handleVerifyOtp,\n          children: \"Verify OTP\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Charging Controls\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n          whileTap: {\n            scale: 0.95\n          },\n          initial: {\n            opacity: 0,\n            y: 20\n          },\n          animate: {\n            opacity: 1,\n            y: 0\n          },\n          transition: {\n            duration: 0.3\n          },\n          className: \"mb-3\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"success\",\n            onClick: handleStartCharging,\n            disabled: chargingStarted,\n            style: {\n              width: \"200px\"\n            },\n            children: chargingStarted ? \"Charging Started ‚úî\" : \"Start Charging\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n          whileTap: {\n            scale: 0.95\n          },\n          initial: {\n            opacity: 0,\n            y: 20\n          },\n          animate: {\n            opacity: 1,\n            y: 0\n          },\n          transition: {\n            duration: 0.3,\n            delay: 0.2\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: handleCompleteCharging,\n            disabled: !chargingStarted || chargingCompleted,\n            style: {\n              width: \"200px\"\n            },\n            children: chargingCompleted ? \"Charging Completed ‚úî\" : \"Complete Charging\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4\",\n          children: chargingCompleted ? /*#__PURE__*/_jsxDEV(Alert, {\n            variant: \"success\",\n            children: \"Charging fully completed!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 15\n          }, this) : chargingStarted ? /*#__PURE__*/_jsxDEV(Alert, {\n            variant: \"info\",\n            children: \"Charging in progress...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Alert, {\n            variant: \"warning\",\n            children: \"Waiting to start charging...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83D\\uDCB3 Payment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this), message && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"info\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 23\n        }, this), (paymentMode === \"CASH\" || (request === null || request === void 0 ? void 0 : (_request$payment = request.payment) === null || _request$payment === void 0 ? void 0 : _request$payment.mode) === \"CASH\") && chargingCompleted && !paymentConfirmed && /*#__PURE__*/_jsxDEV(motion.div, {\n          whileTap: {\n            scale: 0.95\n          },\n          initial: {\n            opacity: 0,\n            y: 20\n          },\n          animate: {\n            opacity: 1,\n            y: 0\n          },\n          transition: {\n            duration: 0.3\n          },\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Customer chose Cash on Delivery. Confirm once cash is received.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"success\",\n            onClick: handleSupplierConfirmPayment,\n            disabled: confirmLoading,\n            style: {\n              width: \"200px\"\n            },\n            children: confirmLoading ? \"Confirming...\" : \"Confirm Payment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 15\n        }, this), paymentConfirmed && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"success\",\n          className: \"mt-3\",\n          children: \"\\u2714 Payment confirmed! Redirecting...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 13\n        }, this), paymentMode === \"UPI\" && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"success\",\n          className: \"mt-3\",\n          children: \"UPI Payment completed by customer.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 209,\n    columnNumber: 5\n  }, this);\n}\n_s(SupplierRequestDetails, \"UnSV4Fw0Nba1c24Ri451TpSGF7s=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = SupplierRequestDetails;\nvar _c;\n$RefreshReg$(_c, \"SupplierRequestDetails\");","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","axios","Container","Card","Button","Form","Alert","Spinner","io","motion","jsxDEV","_jsxDEV","Fragment","_Fragment","BACKEND","socket","autoConnect","SupplierRequestDetails","_s","_request$customer2","_request$payment","requestId","navigate","request","setRequest","loading","setLoading","enteredOtp","setEnteredOtp","verificationMsg","setVerificationMsg","chargingStarted","setChargingStarted","chargingCompleted","setChargingCompleted","paymentMode","setPaymentMode","paymentConfirmed","setPaymentConfirmed","confirmLoading","setConfirmLoading","message","setMessage","mounted","fetchRequest","_req$payment","res","get","headers","Authorization","localStorage","getItem","req","data","status","payment","mode","err","console","error","emit","room","on","off","handleVerifyOtp","alert","post","prev","handleStartCharging","handleCompleteCharging","handleSupplierConfirmPayment","_request$supplier","_request$supplier2","_request$customer","amount","chargedUnits","unitsRequested","supplier","pricePerUnit","put","amountPaid","transactionId","Date","now","supplierId","_id","customerId","customer","setTimeout","className","children","animation","fileName","_jsxFileName","lineNumber","columnNumber","variant","name","Group","Label","Control","type","value","onChange","e","target","placeholder","onClick","div","whileTap","scale","initial","opacity","y","animate","transition","duration","disabled","style","width","delay","_c","$RefreshReg$"],"sources":["C:/Users/LENOVO/Downloads/CoolGrid-app/frontend/src/pages/SupplierRequestDetails.jsx"],"sourcesContent":["// src/pages/SupplierRequestDetails.jsx\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { Container, Card, Button, Form, Alert, Spinner } from \"react-bootstrap\";\r\nimport io from \"socket.io-client\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nconst BACKEND = \"http://localhost:5000\";\r\nconst socket = io(BACKEND, { autoConnect: true });\r\n\r\nexport default function SupplierRequestDetails() {\r\n  const { requestId } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const [request, setRequest] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // OTP\r\n  const [enteredOtp, setEnteredOtp] = useState(\"\");\r\n  const [verificationMsg, setVerificationMsg] = useState(\"\");\r\n\r\n  // charging states\r\n  const [chargingStarted, setChargingStarted] = useState(false);\r\n  const [chargingCompleted, setChargingCompleted] = useState(false);\r\n\r\n  // payment states\r\n  const [paymentMode, setPaymentMode] = useState(null); \r\n  const [paymentConfirmed, setPaymentConfirmed] = useState(false); \r\n  const [confirmLoading, setConfirmLoading] = useState(false);\r\n\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  // Fetch request and initialize UI from backend\r\n  useEffect(() => {\r\n    let mounted = true;\r\n\r\n    const fetchRequest = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const res = await axios.get(`${BACKEND}/api/request/status/${requestId}`, {\r\n          headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n        });\r\n\r\n        if (!mounted) return;\r\n        const req = res.data.request;\r\n        setRequest(req);\r\n\r\n        if (req?.status === \"CHARGING\") {\r\n          setChargingStarted(true);\r\n        } else if (req?.status === \"COMPLETED\") {\r\n          setChargingStarted(true);\r\n          setChargingCompleted(true);\r\n        }\r\n\r\n        if (req?.payment?.mode) {\r\n          setPaymentMode(req.payment.mode);\r\n        }\r\n\r\n        if (req?.status === \"PAID\") {\r\n          setPaymentConfirmed(true);\r\n        }\r\n      } catch (err) {\r\n        console.error(\"‚ùå Error fetching request details:\", err);\r\n      } finally {\r\n        if (mounted) setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchRequest();\r\n\r\n    socket.emit(\"joinRoom\", { room: requestId });\r\n\r\n    socket.on(\"cashPaymentChosen\", (data) => {\r\n      if (data.requestId === requestId) {\r\n        setPaymentMode(\"CASH\");\r\n        setMessage(\"Customer selected Cash on Delivery.\");\r\n      }\r\n    });\r\n\r\n    socket.on(\"upiPaymentDone\", (data) => {\r\n      if (data.requestId === requestId) {\r\n        setPaymentMode(\"UPI\");\r\n        setMessage(\"Customer completed UPI payment.\");\r\n      }\r\n    });\r\n\r\n    socket.on(\"paymentConfirmedByCustomer\", (data) => {\r\n      if (data.requestId === requestId) {\r\n        setPaymentConfirmed(true);\r\n      }\r\n    });\r\n\r\n    socket.on(\"chargingStarted\", (data) => {\r\n      if (data.requestId === requestId) {\r\n        setChargingStarted(true);\r\n      }\r\n    });\r\n\r\n    socket.on(\"chargingCompleted\", (data) => {\r\n      if (data.requestId === requestId) {\r\n        setChargingCompleted(true);\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      mounted = false;\r\n      socket.off();\r\n    };\r\n  }, [requestId]);\r\n\r\n  // Verify OTP handler\r\n  const handleVerifyOtp = async () => {\r\n    try {\r\n      if (!enteredOtp) return alert(\"Please enter OTP\");\r\n\r\n      const res = await axios.post(\r\n        `${BACKEND}/api/request/verify-otp/${requestId}`,\r\n        { enteredOtp },\r\n        { headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` } }\r\n      );\r\n\r\n      setVerificationMsg(\"OTP Verified Successfully!\");\r\n      setMessage(\"OTP Verified ‚Äî you can start charging.\");\r\n      setRequest((prev) => ({ ...prev, status: \"VERIFIED\" }));\r\n    } catch (err) {\r\n      setVerificationMsg(\"Invalid OTP\");\r\n    }\r\n  };\r\n\r\n  const handleStartCharging = async () => {\r\n    try {\r\n      setChargingStarted(true);\r\n      await axios.post(\r\n        `${BACKEND}/api/request/start-charging/${requestId}`,\r\n        {},\r\n        { headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` } }\r\n      );\r\n      setMessage(\"Charging started.\");\r\n    } catch (err) {\r\n      setChargingStarted(false);\r\n    }\r\n  };\r\n\r\n  const handleCompleteCharging = async () => {\r\n    try {\r\n      await axios.post(\r\n        `${BACKEND}/api/request/complete-charging/${requestId}`,\r\n        {},\r\n        { headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` } }\r\n      );\r\n      setChargingCompleted(true);\r\n      setMessage(\"Charging completed.\");\r\n    } catch (err) {\r\n      alert(\"Failed to complete charging.\");\r\n    }\r\n  };\r\n\r\n  const handleSupplierConfirmPayment = async () => {\r\n    try {\r\n      setConfirmLoading(true);\r\n\r\n      const amount =\r\n        (request.chargedUnits || request.unitsRequested || 0) *\r\n        (request.supplier?.pricePerUnit || 0);\r\n\r\n      await axios.put(\r\n        `${BACKEND}/api/request/${requestId}/markPaid`,\r\n        {\r\n          mode: \"CASH\",\r\n          amountPaid: amount || 0,\r\n          transactionId: \"CASH-\" + Date.now(),\r\n        },\r\n        { headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` } }\r\n      );\r\n\r\n      socket.emit(\"paymentConfirmedBySupplier\", {\r\n        requestId,\r\n        supplierId: request.supplier?._id,\r\n        customerId: request.customer?._id,\r\n      });\r\n\r\n      setPaymentConfirmed(true);\r\n      setMessage(\"Payment confirmed ‚Äî redirecting...\");\r\n\r\n      setTimeout(() => navigate(\"/dashboard/supplier\"), 1200);\r\n    } catch (err) {\r\n      alert(\"Payment confirmation failed.\");\r\n    } finally {\r\n      setConfirmLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading)\r\n    return (\r\n      <Container className=\"mt-5 text-center\">\r\n        <Spinner animation=\"border\" />\r\n      </Container>\r\n    );\r\n\r\n  if (!request)\r\n    return (\r\n      <Container className=\"mt-5 text-center\">\r\n        <Alert variant=\"danger\">Request not found</Alert>\r\n      </Container>\r\n    );\r\n\r\n  return (\r\n    <Container className=\"mt-5\">\r\n      <Card className=\"p-4 shadow\">\r\n        <h3>üîå Request Details</h3>\r\n\r\n        <p><b>Customer:</b> {request.customer?.name}</p>\r\n        <p><b>Units Needed:</b> {request.unitsRequested}</p>\r\n        <p><b>Status:</b> {request.status}</p>\r\n\r\n        <hr />\r\n\r\n        {/* OTP Verification */}\r\n        <h4>üîê OTP Verification</h4>\r\n\r\n        {verificationMsg && <Alert variant=\"info\">{verificationMsg}</Alert>}\r\n\r\n        {request.status !== \"COMPLETED\" && !paymentMode && (\r\n          <>\r\n            <Form.Group>\r\n              <Form.Label>Enter OTP sent to customer</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                value={enteredOtp}\r\n                onChange={(e) => setEnteredOtp(e.target.value)}\r\n                placeholder=\"Enter OTP\"\r\n              />\r\n            </Form.Group>\r\n\r\n            <Button className=\"mt-3\" onClick={handleVerifyOtp}>\r\n              Verify OTP\r\n            </Button>\r\n          </>\r\n        )}\r\n\r\n        <hr />\r\n\r\n        {/* Charging Controls */}\r\n        <div className=\"p-4\">\r\n          <h3>Charging Controls</h3>\r\n\r\n          <motion.div\r\n            whileTap={{ scale: 0.95 }}\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.3 }}\r\n            className=\"mb-3\"\r\n          >\r\n            <Button\r\n              variant=\"success\"\r\n              onClick={handleStartCharging}\r\n              disabled={chargingStarted}\r\n              style={{ width: \"200px\" }}\r\n            >\r\n              {chargingStarted ? \"Charging Started ‚úî\" : \"Start Charging\"}\r\n            </Button>\r\n          </motion.div>\r\n\r\n          <motion.div\r\n            whileTap={{ scale: 0.95 }}\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.3, delay: 0.2 }}\r\n          >\r\n            <Button\r\n              variant=\"primary\"\r\n              onClick={handleCompleteCharging}\r\n              disabled={!chargingStarted || chargingCompleted}\r\n              style={{ width: \"200px\" }}\r\n            >\r\n              {chargingCompleted ? \"Charging Completed ‚úî\" : \"Complete Charging\"}\r\n            </Button>\r\n          </motion.div>\r\n\r\n          <div className=\"mt-4\">\r\n            {chargingCompleted ? (\r\n              <Alert variant=\"success\">Charging fully completed!</Alert>\r\n            ) : chargingStarted ? (\r\n              <Alert variant=\"info\">Charging in progress...</Alert>\r\n            ) : (\r\n              <Alert variant=\"warning\">Waiting to start charging...</Alert>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        <hr />\r\n\r\n        {/* *********************************************************************\r\n              UPDATED PAYMENT SECTION (MATCHES UI STYLE OF CHARGING CONTROLS)\r\n        ********************************************************************** */}\r\n\r\n        <div className=\"p-4 mt-4\">\r\n          <h3>üí≥ Payment</h3>\r\n\r\n          {message && <Alert variant=\"info\">{message}</Alert>}\r\n\r\n          {/* COD Payment button matching Start/Complete UI */}\r\n          {(paymentMode === \"CASH\" || request?.payment?.mode === \"CASH\") &&\r\n            chargingCompleted &&\r\n            !paymentConfirmed && (\r\n              <motion.div\r\n                whileTap={{ scale: 0.95 }}\r\n                initial={{ opacity: 0, y: 20 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ duration: 0.3 }}\r\n                className=\"mb-3\"\r\n              >\r\n                <p>Customer chose Cash on Delivery. Confirm once cash is received.</p>\r\n\r\n                <Button\r\n                  variant=\"success\"\r\n                  onClick={handleSupplierConfirmPayment}\r\n                  disabled={confirmLoading}\r\n                  style={{ width: \"200px\" }}\r\n                >\r\n                  {confirmLoading ? \"Confirming...\" : \"Confirm Payment\"}\r\n                </Button>\r\n              </motion.div>\r\n            )}\r\n\r\n          {paymentConfirmed && (\r\n            <Alert variant=\"success\" className=\"mt-3\">\r\n              ‚úî Payment confirmed! Redirecting...\r\n            </Alert>\r\n          )}\r\n\r\n          {paymentMode === \"UPI\" && (\r\n            <Alert variant=\"success\" className=\"mt-3\">\r\n              UPI Payment completed by customer.\r\n            </Alert>\r\n          )}\r\n        </div>\r\n      </Card>\r\n    </Container>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}