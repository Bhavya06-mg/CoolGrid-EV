{"ast":null,"code":"import _objectSpread from\"C:/Users/LENOVO/Downloads/CoolGrid-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/pages/RegisterSupplier.jsx\nimport React,{useState}from\"react\";import{Container,Form,Button}from\"react-bootstrap\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AREAS={\"JP Nagar\":{lat:12.9063,lng:77.5850},\"KR Market\":{lat:12.9592,lng:77.5737},\"BTM Layout\":{lat:12.9166,lng:77.6101},\"MG Road\":{lat:12.9758,lng:77.6051},\"Rajajinagar\":{lat:12.9950,lng:77.5535},\"Hebbal\":{lat:13.0358,lng:77.5970},\"Whitefield\":{lat:12.9698,lng:77.7499}};function RegisterSupplier(){const[form,setForm]=useState({username:\"\",password:\"\",name:\"\",phone:\"\",pricePerUnit:\"\",availableUnits:\"\",renewable:false,areaName:\"JP Nagar\"});const navigate=useNavigate();const handleChange=e=>{const{name,value,type,checked}=e.target;setForm(_objectSpread(_objectSpread({},form),{},{[name]:type===\"checkbox\"?checked:value}));};const handleSubmit=async e=>{e.preventDefault();const coords=AREAS[form.areaName];try{await axios.post(\"https://coolgrid-ev-1.onrender.com/api/auth/register/supplier\",{username:form.username,password:form.password,name:form.name,phone:form.phone,renewable:form.renewable,pricePerUnit:Number(form.pricePerUnit),availableUnits:Number(form.availableUnits),area:form.areaName// TEXT\n// IMPORTANT ðŸ”¥ðŸ”¥ SEND COORDINATES\n});alert(\"Supplier registered!\");navigate(\"/login\");}catch(err){var _err$response,_err$response$data;alert(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"Registration failed\");}};return/*#__PURE__*/_jsxs(Container,{className:\"mt-5\",style:{maxWidth:\"600px\"},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mb-4\",children:\"Register Supplier\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[[\"username\",\"password\",\"name\",\"phone\",\"pricePerUnit\",\"availableUnits\"].map((field,idx)=>/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:field}),/*#__PURE__*/_jsx(Form.Control,{required:true,type:field===\"password\"?\"password\":\"text\",name:field,value:form[field],onChange:handleChange})]},idx)),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Select Area\"}),/*#__PURE__*/_jsx(Form.Select,{name:\"areaName\",value:form.areaName,onChange:handleChange,children:Object.keys(AREAS).map(area=>/*#__PURE__*/_jsx(\"option\",{value:area,children:area},area))})]}),/*#__PURE__*/_jsx(Form.Group,{className:\"mb-3\",children:/*#__PURE__*/_jsx(Form.Check,{type:\"checkbox\",name:\"renewable\",checked:form.renewable,onChange:handleChange,label:\"I use renewable energy\"})}),/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"w-100\",children:\"Register\"})]})]});}export default RegisterSupplier;","map":{"version":3,"names":["React","useState","Container","Form","Button","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","AREAS","lat","lng","RegisterSupplier","form","setForm","username","password","name","phone","pricePerUnit","availableUnits","renewable","areaName","navigate","handleChange","e","value","type","checked","target","_objectSpread","handleSubmit","preventDefault","coords","post","Number","area","alert","err","_err$response","_err$response$data","response","data","message","className","style","maxWidth","children","onSubmit","map","field","idx","Group","Label","Control","required","onChange","Select","Object","keys","Check","label"],"sources":["C:/Users/LENOVO/Downloads/CoolGrid-app/frontend/src/pages/RegisterSupplier.jsx"],"sourcesContent":["// src/pages/RegisterSupplier.jsx\r\nimport React, { useState } from \"react\";\r\nimport { Container, Form, Button } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst AREAS = {\r\n  \"JP Nagar\": { lat: 12.9063, lng: 77.5850 },\r\n  \"KR Market\": { lat: 12.9592, lng: 77.5737 },\r\n  \"BTM Layout\": { lat: 12.9166, lng: 77.6101 },\r\n  \"MG Road\":   { lat: 12.9758, lng: 77.6051 },\r\n  \"Rajajinagar\": { lat: 12.9950, lng: 77.5535 },\r\n  \"Hebbal\": { lat: 13.0358, lng: 77.5970 },\r\n  \"Whitefield\": { lat: 12.9698, lng: 77.7499 }\r\n};\r\n\r\nfunction RegisterSupplier() {\r\n  const [form, setForm] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n    name: \"\",\r\n    phone: \"\",\r\n    pricePerUnit: \"\",\r\n    availableUnits: \"\",\r\n    renewable: false,\r\n    areaName: \"JP Nagar\"\r\n  });\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, type, checked } = e.target;\r\n    setForm({ ...form, [name]: type === \"checkbox\" ? checked : value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const coords = AREAS[form.areaName];\r\n\r\n    try {\r\n      await axios.post(\"https://coolgrid-ev-1.onrender.com/api/auth/register/supplier\", {\r\n        username: form.username,\r\n        password: form.password,\r\n        name: form.name,\r\n        phone: form.phone,\r\n        renewable: form.renewable,\r\n        pricePerUnit: Number(form.pricePerUnit),\r\n        availableUnits: Number(form.availableUnits),\r\n\r\n        area: form.areaName,   // TEXT\r\n        // IMPORTANT ðŸ”¥ðŸ”¥ SEND COORDINATES\r\n      });\r\n\r\n      alert(\"Supplier registered!\");\r\n      navigate(\"/login\");\r\n    } catch (err) {\r\n      alert(err.response?.data?.message || \"Registration failed\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container className=\"mt-5\" style={{ maxWidth: \"600px\" }}>\r\n      <h2 className=\"text-center mb-4\">Register Supplier</h2>\r\n\r\n      <Form onSubmit={handleSubmit}>\r\n        {[\"username\", \"password\", \"name\", \"phone\", \"pricePerUnit\", \"availableUnits\"].map((field, idx) => (\r\n          <Form.Group key={idx} className=\"mb-3\">\r\n            <Form.Label>{field}</Form.Label>\r\n            <Form.Control\r\n              required\r\n              type={field === \"password\" ? \"password\" : \"text\"}\r\n              name={field}\r\n              value={form[field]}\r\n              onChange={handleChange}\r\n            />\r\n          </Form.Group>\r\n        ))}\r\n\r\n        <Form.Group className=\"mb-3\">\r\n          <Form.Label>Select Area</Form.Label>\r\n\r\n          <Form.Select name=\"areaName\" value={form.areaName} onChange={handleChange}>\r\n            {Object.keys(AREAS).map((area) => (\r\n              <option key={area} value={area}>{area}</option>\r\n            ))}\r\n          </Form.Select>\r\n        </Form.Group>\r\n\r\n        <Form.Group className=\"mb-3\">\r\n          <Form.Check\r\n            type=\"checkbox\"\r\n            name=\"renewable\"\r\n            checked={form.renewable}\r\n            onChange={handleChange}\r\n            label=\"I use renewable energy\"\r\n          />\r\n        </Form.Group>\r\n\r\n        <Button type=\"submit\" className=\"w-100\">Register</Button>\r\n      </Form>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default RegisterSupplier;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}