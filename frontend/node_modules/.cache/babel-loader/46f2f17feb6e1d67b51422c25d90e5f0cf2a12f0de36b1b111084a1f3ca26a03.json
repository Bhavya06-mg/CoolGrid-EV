{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\Downloads\\\\CoolGrid-app\\\\frontend\\\\src\\\\pages\\\\DashboardSupplier.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Container, Card, Button, Spinner } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction DashboardSupplier() {\n  _s();\n  const [request, setRequest] = useState(null);\n  const supplierId = localStorage.getItem(\"userId\");\n  const token = localStorage.getItem(\"token\");\n  useEffect(() => {\n    const fetchPending = async () => {\n      try {\n        const res = await axios.get(`http://localhost:5000/api/request/pending/${supplierId}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setRequest(res.data.request);\n      } catch (err) {\n        console.error(\"No pending requests:\", err);\n      }\n    };\n    fetchPending();\n  }, [supplierId, token]);\n  const handleDecision = async decision => {\n    if (!request) return;\n    try {\n      const url = `http://localhost:5000/api/request/${decision}/${request._id}`;\n      const res = await axios.post(url, {\n        supplierId\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      alert(`Request ${decision === \"accept\" ? \"approved\" : \"rejected\"} successfully.`);\n      setRequest(null);\n    } catch (err) {\n      alert(\"Error updating request status.\");\n    }\n  };\n  if (!request) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: \"text-center mt-5\",\n      children: [/*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No new requests yet...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"mt-5\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      className: \"p-4 shadow-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [\"\\uD83D\\uDD0B New Request from \", request.customer.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Units Requested:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 12\n        }, this), \" \", request.unitsRequested]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Customer Contact:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 12\n        }, this), \" \", request.customer.phone]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"success\",\n        onClick: () => handleDecision(\"accept\"),\n        children: \"\\u2705 Approve\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"danger\",\n        className: \"ms-3\",\n        onClick: () => handleDecision(\"reject\"),\n        children: \"\\u274C Reject\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(DashboardSupplier, \"07EM2GRXaDRecodmIk4pekD+An0=\");\n_c = DashboardSupplier;\nexport default DashboardSupplier;\nvar _c;\n$RefreshReg$(_c, \"DashboardSupplier\");","map":{"version":3,"names":["React","useEffect","useState","axios","Container","Card","Button","Spinner","jsxDEV","_jsxDEV","DashboardSupplier","_s","request","setRequest","supplierId","localStorage","getItem","token","fetchPending","res","get","headers","Authorization","data","err","console","error","handleDecision","decision","url","_id","post","alert","className","children","animation","fileName","_jsxFileName","lineNumber","columnNumber","customer","name","unitsRequested","phone","variant","onClick","_c","$RefreshReg$"],"sources":["C:/Users/LENOVO/Downloads/CoolGrid-app/frontend/src/pages/DashboardSupplier.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Container, Card, Button, Spinner } from \"react-bootstrap\";\r\n\r\nfunction DashboardSupplier() {\r\n  const [request, setRequest] = useState(null);\r\n  const supplierId = localStorage.getItem(\"userId\");\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  useEffect(() => {\r\n    const fetchPending = async () => {\r\n      try {\r\n        const res = await axios.get(`http://localhost:5000/api/request/pending/${supplierId}`, {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n        setRequest(res.data.request);\r\n      } catch (err) {\r\n        console.error(\"No pending requests:\", err);\r\n      }\r\n    };\r\n    fetchPending();\r\n  }, [supplierId, token]);\r\n\r\n  const handleDecision = async (decision) => {\r\n    if (!request) return;\r\n    try {\r\n      const url = `http://localhost:5000/api/request/${decision}/${request._id}`;\r\n      const res = await axios.post(\r\n        url,\r\n        { supplierId },\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n\r\n      alert(`Request ${decision === \"accept\" ? \"approved\" : \"rejected\"} successfully.`);\r\n      setRequest(null);\r\n    } catch (err) {\r\n      alert(\"Error updating request status.\");\r\n    }\r\n  };\r\n\r\n  if (!request) {\r\n    return (\r\n      <Container className=\"text-center mt-5\">\r\n        <Spinner animation=\"border\" />\r\n        <p>No new requests yet...</p>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container className=\"mt-5\">\r\n      <Card className=\"p-4 shadow-sm\">\r\n        <h4>üîã New Request from {request.customer.name}</h4>\r\n        <p><strong>Units Requested:</strong> {request.unitsRequested}</p>\r\n        <p><strong>Customer Contact:</strong> {request.customer.phone}</p>\r\n        <Button variant=\"success\" onClick={() => handleDecision(\"accept\")}>‚úÖ Approve</Button>\r\n        <Button variant=\"danger\" className=\"ms-3\" onClick={() => handleDecision(\"reject\")}>‚ùå Reject</Button>\r\n      </Card>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default DashboardSupplier;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}