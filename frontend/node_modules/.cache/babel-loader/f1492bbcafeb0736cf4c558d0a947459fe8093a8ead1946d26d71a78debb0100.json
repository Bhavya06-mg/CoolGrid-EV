{"ast":null,"code":"import _objectSpread from\"C:/Users/LENOVO/Downloads/CoolGrid-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{Container,Form,Button,Card,Alert}from\"react-bootstrap\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BACKEND=\"http://localhost:5000\";export default function ProfileSupplier(){const[user,setUser]=useState(null);const[msg,setMsg]=useState(\"\");useEffect(()=>{axios.get(\"\".concat(BACKEND,\"/api/profile/profile\"),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}}).then(res=>setUser(res.data.profile))// backend returns { profile: {...} }\n.catch(()=>setMsg(\"Error loading profile\"));},[]);const handleUpdate=async()=>{try{await axios.put(\"\".concat(BACKEND,\"/api/profile/supplier/update\"),user,{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"token\"))}});setMsg(\"Profile updated successfully!\");}catch(err){setMsg(\"Error updating profile\");}};if(!user)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});return/*#__PURE__*/_jsx(Container,{className:\"mt-5\",children:/*#__PURE__*/_jsxs(Card,{className:\"p-4 shadow\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDD27 Supplier Profile\"}),msg&&/*#__PURE__*/_jsx(Alert,{variant:\"info\",className:\"mt-3\",children:msg}),/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mt-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{value:user.name,onChange:e=>setUser(_objectSpread(_objectSpread({},user),{},{name:e.target.value}))})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mt-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Phone\"}),/*#__PURE__*/_jsx(Form.Control,{value:user.phone,onChange:e=>setUser(_objectSpread(_objectSpread({},user),{},{phone:e.target.value}))})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mt-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Location\"}),/*#__PURE__*/_jsx(Form.Control,{value:user.location,onChange:e=>setUser(_objectSpread(_objectSpread({},user),{},{location:e.target.value}))})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mt-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Price Per Unit\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",value:user.pricePerUnit,onChange:e=>setUser(_objectSpread(_objectSpread({},user),{},{pricePerUnit:e.target.value}))})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mt-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Available Units\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",value:user.availableUnits,onChange:e=>setUser(_objectSpread(_objectSpread({},user),{},{availableUnits:e.target.value}))})]}),/*#__PURE__*/_jsx(Button,{className:\"mt-4\",onClick:handleUpdate,children:\"Save Changes\"})]})]})});}","map":{"version":3,"names":["React","useEffect","useState","axios","Container","Form","Button","Card","Alert","jsx","_jsx","jsxs","_jsxs","BACKEND","ProfileSupplier","user","setUser","msg","setMsg","get","concat","headers","Authorization","localStorage","getItem","then","res","data","profile","catch","handleUpdate","put","err","children","className","variant","Group","Label","Control","value","name","onChange","e","_objectSpread","target","phone","location","type","pricePerUnit","availableUnits","onClick"],"sources":["C:/Users/LENOVO/Downloads/CoolGrid-app/frontend/src/pages/ProfileSupplier.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Container, Form, Button, Card, Alert } from \"react-bootstrap\";\r\n\r\nconst BACKEND = \"http://localhost:5000\";\r\n\r\nexport default function ProfileSupplier() {\r\n  const [user, setUser] = useState(null);\r\n  const [msg, setMsg] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`${BACKEND}/api/profile/profile`, {\r\n        headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` },\r\n      })\r\n      .then((res) => setUser(res.data.profile))   // backend returns { profile: {...} }\r\n      .catch(() => setMsg(\"Error loading profile\"));\r\n  }, []);\r\n\r\n  const handleUpdate = async () => {\r\n    try {\r\n      await axios.put(\r\n        `${BACKEND}/api/profile/supplier/update`,\r\n        user,\r\n        { headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` } }\r\n      );\r\n      setMsg(\"Profile updated successfully!\");\r\n    } catch (err) {\r\n      setMsg(\"Error updating profile\");\r\n    }\r\n  };\r\n\r\n  if (!user) return <p>Loading...</p>;\r\n\r\n  return (\r\n    <Container className=\"mt-5\">\r\n      <Card className=\"p-4 shadow\">\r\n        <h3>ðŸ”§ Supplier Profile</h3>\r\n        {msg && <Alert variant=\"info\" className=\"mt-3\">{msg}</Alert>}\r\n\r\n        <Form>\r\n          <Form.Group className=\"mt-3\">\r\n            <Form.Label>Name</Form.Label>\r\n            <Form.Control\r\n              value={user.name}\r\n              onChange={(e) => setUser({ ...user, name: e.target.value })}\r\n            />\r\n          </Form.Group>\r\n\r\n          <Form.Group className=\"mt-3\">\r\n            <Form.Label>Phone</Form.Label>\r\n            <Form.Control\r\n              value={user.phone}\r\n              onChange={(e) => setUser({ ...user, phone: e.target.value })}\r\n            />\r\n          </Form.Group>\r\n\r\n          <Form.Group className=\"mt-3\">\r\n            <Form.Label>Location</Form.Label>\r\n            <Form.Control\r\n              value={user.location}\r\n              onChange={(e) => setUser({ ...user, location: e.target.value })}\r\n            />\r\n          </Form.Group>\r\n\r\n          <Form.Group className=\"mt-3\">\r\n            <Form.Label>Price Per Unit</Form.Label>\r\n            <Form.Control\r\n              type=\"number\"\r\n              value={user.pricePerUnit}\r\n              onChange={(e) =>\r\n                setUser({ ...user, pricePerUnit: e.target.value })\r\n              }\r\n            />\r\n          </Form.Group>\r\n\r\n          <Form.Group className=\"mt-3\">\r\n            <Form.Label>Available Units</Form.Label>\r\n            <Form.Control\r\n              type=\"number\"\r\n              value={user.availableUnits}\r\n              onChange={(e) =>\r\n                setUser({ ...user, availableUnits: e.target.value })\r\n              }\r\n            />\r\n          </Form.Group>\r\n\r\n          <Button className=\"mt-4\" onClick={handleUpdate}>\r\n            Save Changes\r\n          </Button>\r\n        </Form>\r\n      </Card>\r\n    </Container>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}